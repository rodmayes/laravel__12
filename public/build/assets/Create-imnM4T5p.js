import{s as S}from"./index-EveoIXv-.js";import{s as j}from"./index-18OXH6E6.js";import{s as D}from"./index-CLAgobbg.js";import{s as L}from"./index-CKOC9m5P.js";import{s as B}from"./index-BU4GTOPz.js";import{T as O,r as _,Y as P,h as U,i as q,b as i,w,e as l,j as C,d as a,c as n,g as d,u as t,t as u,N}from"./app-BYfn7zQ6.js";import{_ as $}from"./AppLayout-r15PKijx.js";import{b as T,c as h}from"./useFormatters-C4jh3d5C.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DGgCMOXL.js";import"./index-DNAkVsc3.js";import"./index-B6C5P1Nr.js";import"./index-Br3uKoNN.js";import"./index-DkFFURBA.js";import"./index-CkKtAwnn.js";import"./index-ByFrJVEI.js";import"./DropdownLink-CaoQdTSc.js";import"./index-Cthk_FKP.js";const F={class:"card"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},M={class:"md:col-span-1"},R={key:0,class:"text-red-500"},W={class:"md:col-span-2 flex flex-col gap-4"},Y={class:"flex flex-col gap-2"},z={key:0,class:"text-red-500"},A={class:"flex flex-col gap-2"},G={key:0,class:"text-red-500"},H={class:"flex flex-col gap-2"},J={key:0,class:"text-red-500"},K={class:"flex flex-col gap-2"},Q={key:0,class:"text-red-500"},X={class:"flex flex-col gap-2"},Z={key:0,class:"text-red-500"},ee={class:"flex justify-between"},oe={key:0,class:"text-red-500"},te={class:"flex justify-end mt-6 gap-2"},le=["href"],se={__name:"Create",props:{clubs:Object,resources:Object,timetables:Object,bookingPreferences:Object,players:Object,durations:Object,status:Object,startDate:String,title:String,player:Object},setup(y){var b;const r=y,o=O({started_at:r.startDate||T(new Date),club_id:"",resources:[],timetables:[],booking_preference:"",player_email:(b=r.player)==null?void 0:b.email,duration:90,public:!1}),g=()=>{o.started_at=h(o.started_at),o.post(route("playtomic.bookings.store"),{onSuccess:()=>{o.reset(),N.visit(route("playtomic.bookings.index"))}})},p=_(r.resources);P(()=>o.club_id,async m=>{if(!m){p.value=[],o.resources=[];return}try{const e=await U.post(route("playtomic.resources.filter",{club:m}));p.value=e.data,o.resources=[]}catch(e){console.error("Error fetching resources:",e),p.value=[]}});const V=_([{label:"Playtomic"},{label:r.title,url:route("playtomic.bookings.index")},{label:"Create",url:route("playtomic.bookings.create")}]);return(m,e)=>{const x=B,c=L,f=D,k=j,v=S;return i(),q($,{items:V.value},{default:w(()=>[l("div",F,[e[16]||(e[16]=l("h1",{class:"text-2xl font-bold mb-4"},"Create Booking",-1)),l("form",{onSubmit:C(g,["prevent"]),class:"space-y-6"},[l("div",I,[l("div",M,[e[8]||(e[8]=l("label",{value:"Start Date",class:"required"},null,-1)),a(x,{modelValue:t(o).started_at,"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).started_at=s),inline:"",dateFormat:"yy-mm-dd",class:"w-full",style:{minWidth:"18rem"}},null,8,["modelValue"]),t(o).errors.started_at?(i(),n("small",R,u(t(o).errors.started_at),1)):d("",!0)]),l("div",W,[l("div",Y,[e[9]||(e[9]=l("label",{class:"required"},"Club",-1)),a(c,{modelValue:t(o).club_id,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).club_id=s),options:r.clubs,optionValue:"id",optionLabel:"name",placeholder:"Select a club"},null,8,["modelValue","options"]),t(o).errors.club_id?(i(),n("small",z,u(t(o).errors.club_id),1)):d("",!0)]),l("div",A,[e[10]||(e[10]=l("label",{for:"resources",required:""},"Resources",-1)),a(f,{modelValue:t(o).resources,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).resources=s),options:p.value,optionValue:"id",optionLabel:"name",placeholder:"Select resources",filter:""},null,8,["modelValue","options"]),t(o).errors.resources?(i(),n("small",G,u(t(o).errors.resources),1)):d("",!0)]),l("div",H,[e[11]||(e[11]=l("label",{for:"timetables",required:""},"Timetables",-1)),a(f,{modelValue:t(o).timetables,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).timetables=s),options:r.timetables,optionValue:"id",optionLabel:"name",placeholder:"Select timetables",filter:""},null,8,["modelValue","options"]),t(o).errors.timetables?(i(),n("small",J,u(t(o).errors.timetables),1)):d("",!0)]),l("div",K,[e[12]||(e[12]=l("label",{for:"booking_preference",required:""},"Booking Preference",-1)),a(c,{modelValue:t(o).booking_preference,"onUpdate:modelValue":e[4]||(e[4]=s=>t(o).booking_preference=s),options:r.bookingPreferences,optionValue:"id",optionLabel:"name",placeholder:"Select preference"},null,8,["modelValue","options"]),t(o).errors.booking_preference?(i(),n("small",Q,u(t(o).errors.booking_preference),1)):d("",!0)]),l("div",X,[e[13]||(e[13]=l("label",{required:""},"Player",-1)),a(c,{modelValue:t(o).player_email,"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).player_email=s),options:r.players,optionValue:"email",optionLabel:"name",placeholder:"Select player"},null,8,["modelValue","options"]),t(o).errors.player_email?(i(),n("small",Z,u(t(o).errors.player_email),1)):d("",!0)]),l("div",ee,[l("div",null,[e[14]||(e[14]=l("label",{for:"duration",class:"required mr-2"},"Duration",-1)),a(c,{modelValue:t(o).duration,"onUpdate:modelValue":e[6]||(e[6]=s=>t(o).duration=s),options:r.durations,optionValue:"id",optionLabel:"name",placeholder:"Select duration"},null,8,["modelValue","options"]),t(o).errors.duration?(i(),n("small",oe,u(t(o).errors.duration),1)):d("",!0)]),l("div",null,[e[15]||(e[15]=l("label",{for:"public",class:"mr-2"},"Is Public",-1)),a(k,{modelValue:t(o).public,"onUpdate:modelValue":e[7]||(e[7]=s=>t(o).public=s),onLabel:"Public",offLabel:"No public"},null,8,["modelValue"])])])])]),l("div",te,[a(v,{type:"submit",label:"Save"}),l("a",{href:m.route("playtomic.bookings.index"),class:"border border-gray-300 px-4 py-2 rounded-md"}," Cancel ",8,le)])],32)])]),_:1},8,["items"])}}},Se=E(se,[["__scopeId","data-v-f84403e5"]]);export{Se as default};
