import{s as S}from"./index-BfHKTmDq.js";import{s as j}from"./index-D5cDUAcg.js";import{s as D}from"./index-ibghF8CL.js";import{s as L}from"./index-CC8WqAJb.js";import{s as B}from"./index-BcyB5M4q.js";import{T as O,F as _,X as P,H as U,c as q,o as i,w,b as l,d as C,a,f as n,g as d,u as t,t as u,Y as N}from"./app-CB0dyodM.js";import{_ as $}from"./AppLayout-Bnt65DdT.js";import{f as F,a as T}from"./useFormatters-DpE799yv.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B56-Iuev.js";import"./index-3fzsDt9u.js";import"./index-B_9G0EJD.js";import"./index-BHVtOMWe.js";import"./index-BeJhA7-m.js";import"./index-DnFyHfri.js";import"./index-B5Q9vJ-u.js";import"./DropdownLink-DZXjjQov.js";import"./index-B3G1jHyt.js";const I={class:"card"},M={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},R={class:"md:col-span-1"},h={key:0,class:"text-red-500"},H={class:"md:col-span-2 flex flex-col gap-4"},W={class:"flex flex-col gap-2"},X={key:0,class:"text-red-500"},Y={class:"flex flex-col gap-2"},z={key:0,class:"text-red-500"},A={class:"flex flex-col gap-2"},G={key:0,class:"text-red-500"},J={class:"flex flex-col gap-2"},K={key:0,class:"text-red-500"},Q={class:"flex flex-col gap-2"},Z={key:0,class:"text-red-500"},ee={class:"flex justify-between"},oe={key:0,class:"text-red-500"},te={class:"flex justify-end mt-6 gap-2"},le=["href"],se={__name:"Create",props:{clubs:Object,resources:Object,timetables:Object,bookingPreferences:Object,players:Object,durations:Object,status:Object,startDate:String,title:String,player:Object},setup(y){var b;const r=y,o=O({started_at:r.startDate||F(new Date),club_id:"",resources:[],timetables:[],booking_preference:"",player_email:(b=r.player)==null?void 0:b.email,duration:90,public:!1}),g=()=>{o.started_at=T(o.started_at),o.post(route("playtomic.bookings.store"),{onSuccess:()=>{o.reset(),N.visit(route("playtomic.bookings.index"))}})},p=_(r.resources);P(()=>o.club_id,async m=>{if(!m){p.value=[],o.resources=[];return}try{const e=await U.post(route("playtomic.resources.filter",{club:m}));p.value=e.data,o.resources=[]}catch(e){console.error("Error fetching resources:",e),p.value=[]}});const V=_([{label:"Playtomic"},{label:r.title,url:route("playtomic.bookings.index")},{label:"Create",url:route("playtomic.bookings.create")}]);return(m,e)=>{const x=B,c=L,f=D,k=j,v=S;return i(),q($,{items:V.value},{default:w(()=>[l("div",I,[e[16]||(e[16]=l("h1",{class:"text-2xl font-bold mb-4"},"Create Booking",-1)),l("form",{onSubmit:C(g,["prevent"]),class:"space-y-6"},[l("div",M,[l("div",R,[e[8]||(e[8]=l("label",{value:"Start Date",class:"required"},null,-1)),a(x,{modelValue:t(o).started_at,"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).started_at=s),inline:"",dateFormat:"yy-mm-dd",class:"w-full",style:{minWidth:"18rem"}},null,8,["modelValue"]),t(o).errors.started_at?(i(),n("small",h,u(t(o).errors.started_at),1)):d("",!0)]),l("div",H,[l("div",W,[e[9]||(e[9]=l("label",{class:"required"},"Club",-1)),a(c,{modelValue:t(o).club_id,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).club_id=s),options:r.clubs,optionValue:"id",optionLabel:"name",placeholder:"Select a club"},null,8,["modelValue","options"]),t(o).errors.club_id?(i(),n("small",X,u(t(o).errors.club_id),1)):d("",!0)]),l("div",Y,[e[10]||(e[10]=l("label",{for:"resources",required:""},"Resources",-1)),a(f,{modelValue:t(o).resources,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).resources=s),options:p.value,optionValue:"id",optionLabel:"name",placeholder:"Select resources",filter:""},null,8,["modelValue","options"]),t(o).errors.resources?(i(),n("small",z,u(t(o).errors.resources),1)):d("",!0)]),l("div",A,[e[11]||(e[11]=l("label",{for:"timetables",required:""},"Timetables",-1)),a(f,{modelValue:t(o).timetables,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).timetables=s),options:r.timetables,optionValue:"id",optionLabel:"name",placeholder:"Select timetables",filter:""},null,8,["modelValue","options"]),t(o).errors.timetables?(i(),n("small",G,u(t(o).errors.timetables),1)):d("",!0)]),l("div",J,[e[12]||(e[12]=l("label",{for:"booking_preference",required:""},"Booking Preference",-1)),a(c,{modelValue:t(o).booking_preference,"onUpdate:modelValue":e[4]||(e[4]=s=>t(o).booking_preference=s),options:r.bookingPreferences,optionValue:"id",optionLabel:"name",placeholder:"Select preference"},null,8,["modelValue","options"]),t(o).errors.booking_preference?(i(),n("small",K,u(t(o).errors.booking_preference),1)):d("",!0)]),l("div",Q,[e[13]||(e[13]=l("label",{required:""},"Player",-1)),a(c,{modelValue:t(o).player_email,"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).player_email=s),options:r.players,optionValue:"email",optionLabel:"name",placeholder:"Select player"},null,8,["modelValue","options"]),t(o).errors.player_email?(i(),n("small",Z,u(t(o).errors.player_email),1)):d("",!0)]),l("div",ee,[l("div",null,[e[14]||(e[14]=l("label",{for:"duration",class:"required mr-2"},"Duration",-1)),a(c,{modelValue:t(o).duration,"onUpdate:modelValue":e[6]||(e[6]=s=>t(o).duration=s),options:r.durations,optionValue:"id",optionLabel:"name",placeholder:"Select duration"},null,8,["modelValue","options"]),t(o).errors.duration?(i(),n("small",oe,u(t(o).errors.duration),1)):d("",!0)]),l("div",null,[e[15]||(e[15]=l("label",{for:"public",class:"mr-2"},"Is Public",-1)),a(k,{modelValue:t(o).public,"onUpdate:modelValue":e[7]||(e[7]=s=>t(o).public=s),onLabel:"Public",offLabel:"No public"},null,8,["modelValue"])])])])]),l("div",te,[a(v,{type:"submit",label:"Save"}),l("a",{href:m.route("playtomic.bookings.index"),class:"border border-gray-300 px-4 py-2 rounded-md"}," Cancel ",8,le)])],32)])]),_:1},8,["items"])}}},Se=E(se,[["__scopeId","data-v-f84403e5"]]);export{Se as default};
