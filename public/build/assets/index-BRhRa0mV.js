import{B as c,al as o,U as n,S as i,b2 as v}from"./app-BitM9Esh.js";var r=c.extend({name:"styleclass-directive"}),m=o.extend({style:r}),f=m.extend("styleclass",{mounted:function(e,s){e.setAttribute("data-pd-styleclass",!0),this.bind(e,s)},unmounted:function(e){this.unbind(e)},methods:{bind:function(e,s){var l=this,t=this.resolveTarget(e,s);this.$el=t,e.$_pstyleclass_clicklistener=function(){s.value.toggleClass?v(t,s.value.toggleClass)?i(t,s.value.toggleClass):n(t,s.value.toggleClass):t.offsetParent===null?l.enter(t,e,s):l.leave(t,s)},e.addEventListener("click",e.$_pstyleclass_clicklistener)},unbind:function(e){e.$_pstyleclass_clicklistener&&(e.removeEventListener("click",e.$_pstyleclass_clicklistener),e.$_pstyleclass_clicklistener=null),this.unbindDocumentListener(e)},enter:function(e,s,l){l.value.enterActiveClass?e.$_pstyleclass_animating||(e.$_pstyleclass_animating=!0,l.value.enterActiveClass.includes("slidedown")&&(e.style.height="0px",i(e,l.value.hiddenClass||l.value.enterFromClass),e.style.maxHeight=e.scrollHeight+"px",n(e,l.value.hiddenClass||l.value.enterActiveClass),e.style.height=""),n(e,l.value.enterActiveClass),l.value.enterFromClass&&i(e,l.value.enterFromClass),e.$p_styleclass_enterlistener=function(){i(e,l.value.enterActiveClass),l.value.enterToClass&&n(e,l.value.enterToClass),e.removeEventListener("animationend",e.$p_styleclass_enterlistener),l.value.enterActiveClass.includes("slidedown")&&(e.style.maxHeight=""),e.$_pstyleclass_animating=!1},e.addEventListener("animationend",e.$p_styleclass_enterlistener)):(l.value.enterFromClass&&i(e,l.value.enterFromClass),l.value.enterToClass&&n(e,l.value.enterToClass)),l.value.hideOnOutsideClick&&this.bindDocumentListener(e,s,l)},leave:function(e,s){s.value.leaveActiveClass?e.$_pstyleclass_animating||(e.$_pstyleclass_animating=!0,n(e,s.value.leaveActiveClass),s.value.leaveFromClass&&i(e,s.value.leaveFromClass),e.$p_styleclass_leavelistener=function(){i(e,s.value.leaveActiveClass),s.value.leaveToClass&&n(e,s.value.leaveToClass),e.removeEventListener("animationend",e.$p_styleclass_leavelistener),e.$_pstyleclass_animating=!1},e.addEventListener("animationend",e.$p_styleclass_leavelistener)):(s.value.leaveFromClass&&i(e,s.value.leaveFromClass),s.value.leaveToClass&&n(e,s.value.leaveToClass)),s.value.hideOnOutsideClick&&this.unbindDocumentListener(e)},resolveTarget:function(e,s){switch(s.value.selector){case"@next":return e.nextElementSibling;case"@prev":return e.previousElementSibling;case"@parent":return e.parentElement;case"@grandparent":return e.parentElement.parentElement;default:return document.querySelector(s.value.selector)}},bindDocumentListener:function(e,s,l){var t=this;e.$p_styleclass_documentlistener||(e.$p_styleclass_documentlistener=function(u){!t.isVisible(e)||getComputedStyle(e).getPropertyValue("position")==="static"?t.unbindDocumentListener(e):t.isOutsideClick(u,e,s)&&t.leave(e,l)},e.ownerDocument.addEventListener("click",e.$p_styleclass_documentlistener))},unbindDocumentListener:function(e){e.$p_styleclass_documentlistener&&(e.ownerDocument.removeEventListener("click",e.$p_styleclass_documentlistener),e.$p_styleclass_documentlistener=null)},isVisible:function(e){return e.offsetParent!==null},isOutsideClick:function(e,s,l){return!l.isSameNode(e.target)&&!l.contains(e.target)&&!s.contains(e.target)}}});export{f as S};
