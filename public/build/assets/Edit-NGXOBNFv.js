import{s as v}from"./index-DHW-Isfz.js";import{s as y}from"./index-BWRVypym.js";import{s as g}from"./index-Bzg34Oki.js";import{s as k}from"./index-CmLk1XAt.js";import{T as U,N,c as S,o as d,w as h,b as l,d as B,a as i,f as m,g as p,u as s,t as u}from"./app-BXKsk4Hn.js";import"./index-CMJwYcPe.js";import"./index-DP5ewM03.js";import"./index-Dv-kvlDw.js";import"./index-C5ismy7n.js";import"./index-BJiRVnqE.js";const C={class:"flex flex-col gap-4"},E={class:"flex flex-col gap-2"},P={key:0,class:"text-red-500"},$={class:"flex flex-col gap-2"},j={key:0,class:"text-red-500"},D={class:"flex flex-col gap-2"},M={key:0,class:"text-red-500"},O={class:"flex flex-col gap-2"},T={key:0,class:"text-red-500"},F={class:"flex flex-col gap-2"},I={key:0,class:"text-red-500"},L={class:"flex justify-end gap-2"},X={__name:"Edit",props:{show:Boolean,title:String,user:Object,roles:Object},emits:["close"],setup(x,{emit:_}){const r=x,w=_,o=U({name:"",email:"",password:"",password_confirmation:"",roles:[]}),b=()=>{var n;o.put(route("user.update",(n=r.user)==null?void 0:n.id),{preserveScroll:!0,onSuccess:()=>{w("close"),o.reset()},onError:()=>null,onFinish:()=>null})};return N(()=>{var n,e,a,f;r.show&&(o.errors={},o.name=(n=r.user)==null?void 0:n.name,o.email=(e=r.user)==null?void 0:e.email,o.roles=(f=(a=r.user)==null?void 0:a.roles)!=null&&f.length?r.user.roles.map(c=>Number(c.id)):[])}),(n,e)=>{const a=k,f=g,c=y,V=v;return d(),S(V,{visible:r.show,"onUpdate:visible":e[6]||(e[6]=t=>r.show=t),position:"top",modal:"",header:"Update "+r.title,style:{width:"30rem"},closable:!1},{default:h(()=>[l("form",{onSubmit:B(b,["prevent"])},[l("div",C,[l("div",E,[e[7]||(e[7]=l("label",{for:"name"},"Name",-1)),i(a,{id:"name",modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=t=>s(o).name=t),class:"flex-auto",autocomplete:"off",placeholder:"Name"},null,8,["modelValue"]),s(o).errors.name?(d(),m("small",P,u(s(o).errors.name),1)):p("",!0)]),l("div",$,[e[8]||(e[8]=l("label",{for:"email"},"Email",-1)),i(a,{id:"email",modelValue:s(o).email,"onUpdate:modelValue":e[1]||(e[1]=t=>s(o).email=t),class:"flex-auto",autocomplete:"off",placeholder:"Email"},null,8,["modelValue"]),s(o).errors.email?(d(),m("small",j,u(s(o).errors.email),1)):p("",!0)]),l("div",D,[e[9]||(e[9]=l("label",{for:"password"},"Password",-1)),i(a,{id:"password",modelValue:s(o).password,"onUpdate:modelValue":e[2]||(e[2]=t=>s(o).password=t),type:"password",placeholder:"Password"},null,8,["modelValue"]),s(o).errors.password?(d(),m("small",M,u(s(o).errors.password),1)):p("",!0)]),l("div",O,[e[10]||(e[10]=l("label",{for:"password_confirmation"},"Confirmation Password",-1)),i(a,{id:"password_confirmation",modelValue:s(o).password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=t=>s(o).password_confirmation=t),type:"password",placeholder:"Confirmation Password"},null,8,["modelValue"]),s(o).errors.password_confirmation?(d(),m("small",T,u(s(o).errors.password_confirmation),1)):p("",!0)]),l("div",F,[e[11]||(e[11]=l("label",{for:"role"},"Roles",-1)),i(f,{modelValue:s(o).roles,"onUpdate:modelValue":e[4]||(e[4]=t=>s(o).roles=t),options:r.roles,optionValue:"id",optionLabel:"name",placeholder:"Select roles"},null,8,["modelValue","options"]),s(o).errors.roles?(d(),m("small",I,u(s(o).errors.roles),1)):p("",!0)]),l("div",L,[i(c,{type:"button",label:"Cancel",severity:"secondary",onClick:e[5]||(e[5]=t=>w("close"))}),i(c,{type:"submit",label:"Update"})])])],32)]),_:1},8,["visible","header"])}}};export{X as default};
