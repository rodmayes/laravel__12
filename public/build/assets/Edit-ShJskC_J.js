import{s as S}from"./index-BU8twPeb.js";import{s as h}from"./index-L9jds0UM.js";import{s as k}from"./index-X78qv4tB.js";import{s as w}from"./index-Dlv-tlzd.js";import{T as B,F as U,X as x,c as $,o as c,w as I,b as a,d as P,a as d,f,g as y,u as l,t as b}from"./app-BtWIXAZa.js";import{l as C}from"./loadToast-BamORZED.js";import"./index-D1785TMw.js";import"./index-Ce-uaxe7.js";import"./index-BoNuv7pC.js";import"./index-Bu9fg-KM.js";const N={class:"flex flex-col gap-4"},T={class:"flex flex-col gap-2"},D={key:0,class:"text-red-500"},E={class:"flex flex-col gap-2"},M={key:0,class:"text-red-500"},j={class:"flex flex-col gap-2"},F={key:0,class:"text-red-500"},H={class:"flex justify-end gap-2"},R={__name:"Edit",props:{show:Boolean,title:String,timetable:Object},emits:["close"],setup(v,{emit:g}){C();const i=v,u=g,t=B({name:"",playtomic_id:"",playtomic_id_summer:""}),r=U(null);x(r,s=>{if(s instanceof Date){const e=s.getHours().toString().padStart(2,"0"),m=s.getMinutes().toString().padStart(2,"0");t.name=`${e}:${m}`}}),x(()=>i.show,s=>{var e,m,n;if(s)if(t.errors={},t.name=((e=i.timetable)==null?void 0:e.name)??"",t.playtomic_id=((m=i.timetable)==null?void 0:m.playtomic_id)??"",t.playtomic_id_summer=((n=i.timetable)==null?void 0:n.playtomic_id_summer)??"",t.name){const[p,_]=t.name.split(":").map(Number),o=new Date;o.setHours(p||0),o.setMinutes(_||0),o.setSeconds(0),r.value=o}else r.value=null});const V=()=>{var s;t.put(route("playtomic.timetables.update",(s=i.timetable)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>{u("updated"),u("close"),t.reset()},onError:()=>null,onFinish:()=>null})};return(s,e)=>{const m=w,n=k,p=h,_=S;return c(),$(_,{visible:i.show,"onUpdate:visible":e[4]||(e[4]=o=>i.show=o),position:"top",modal:"",header:"Update "+i.title,style:{width:"30rem"},closable:!1},{default:I(()=>[a("form",{onSubmit:P(V,["prevent"])},[a("div",N,[a("div",T,[e[5]||(e[5]=a("label",{for:"name"},"Time",-1)),d(m,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),inline:"",timeOnly:""},null,8,["modelValue"]),l(t).errors.name?(c(),f("small",D,b(l(t).errors.name),1)):y("",!0)]),a("div",E,[e[6]||(e[6]=a("label",{for:"playtomic_id"},"PlaytomicId",-1)),d(n,{id:"playtomic_id",modelValue:l(t).playtomic_id,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).playtomic_id=o),class:"flex-auto",autocomplete:"off",placeholder:"PlaytomicId"},null,8,["modelValue"]),l(t).errors.playtomic_id?(c(),f("small",M,b(l(t).errors.playtomic_id),1)):y("",!0)]),a("div",j,[e[7]||(e[7]=a("label",{for:"playtomic_id_summer"},"PlaytomicId Summer",-1)),d(n,{id:"playtomic_id_summer",modelValue:l(t).playtomic_id_summer,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).playtomic_id_summer=o),class:"flex-auto",autocomplete:"off",placeholder:"PlaytomicId Summer"},null,8,["modelValue"]),l(t).errors.playtomic_id_summer?(c(),f("small",F,b(l(t).errors.playtomic_id_summer),1)):y("",!0)]),a("div",H,[d(p,{type:"button",label:"Cancel",severity:"secondary",onClick:e[3]||(e[3]=o=>u("close"))}),d(p,{type:"submit",label:"Update"})])])],32)]),_:1},8,["visible","header"])}}};export{R as default};
