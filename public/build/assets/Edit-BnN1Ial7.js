import{s as S}from"./index-B5FKt3It.js";import{s as h}from"./index-cSgwQ100.js";import{s as k}from"./index-B8iOEnMR.js";import{s as w}from"./index-BjBZQ7gi.js";import{T as B,r as U,Y as x,i as $,b as c,w as I,e as i,j as P,d,c as f,g as y,u as l,t as b}from"./app-ULZ4ZAEb.js";import{l as C}from"./loadToast-cPLvEfas.js";import"./index-l8FFwk_X.js";import"./index-C70yr8kA.js";import"./index-OWtXGIvL.js";import"./index-_WgtLCcT.js";const N={class:"flex flex-col gap-4"},T={class:"flex flex-col gap-2"},j={key:0,class:"text-red-500"},D={class:"flex flex-col gap-2"},E={key:0,class:"text-red-500"},M={class:"flex flex-col gap-2"},H={key:0,class:"text-red-500"},O={class:"flex justify-end gap-2"},R={__name:"Edit",props:{show:Boolean,title:String,timetable:Object},emits:["close"],setup(v,{emit:g}){C();const a=v,u=g,t=B({name:"",playtomic_id:"",playtomic_id_summer:""}),r=U(null);x(r,s=>{if(s instanceof Date){const e=s.getHours().toString().padStart(2,"0"),m=s.getMinutes().toString().padStart(2,"0");t.name=`${e}:${m}`}}),x(()=>a.show,s=>{var e,m,n;if(s)if(t.errors={},t.name=((e=a.timetable)==null?void 0:e.name)??"",t.playtomic_id=((m=a.timetable)==null?void 0:m.playtomic_id)??"",t.playtomic_id_summer=((n=a.timetable)==null?void 0:n.playtomic_id_summer)??"",t.name){const[p,_]=t.name.split(":").map(Number),o=new Date;o.setHours(p||0),o.setMinutes(_||0),o.setSeconds(0),r.value=o}else r.value=null});const V=()=>{var s;t.put(route("playtomic.timetables.update",(s=a.timetable)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>{u("updated"),u("close"),t.reset()},onError:()=>null,onFinish:()=>null})};return(s,e)=>{const m=w,n=k,p=h,_=S;return c(),$(_,{visible:a.show,"onUpdate:visible":e[4]||(e[4]=o=>a.show=o),position:"top",modal:"",header:"Update "+a.title,style:{width:"30rem"},closable:!1},{default:I(()=>[i("form",{onSubmit:P(V,["prevent"])},[i("div",N,[i("div",T,[e[5]||(e[5]=i("label",{for:"name"},"Time",-1)),d(m,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),inline:"",timeOnly:""},null,8,["modelValue"]),l(t).errors.name?(c(),f("small",j,b(l(t).errors.name),1)):y("",!0)]),i("div",D,[e[6]||(e[6]=i("label",{for:"playtomic_id"},"PlaytomicId",-1)),d(n,{id:"playtomic_id",modelValue:l(t).playtomic_id,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).playtomic_id=o),class:"flex-auto",autocomplete:"off",placeholder:"PlaytomicId"},null,8,["modelValue"]),l(t).errors.playtomic_id?(c(),f("small",E,b(l(t).errors.playtomic_id),1)):y("",!0)]),i("div",M,[e[7]||(e[7]=i("label",{for:"playtomic_id_summer"},"PlaytomicId Summer",-1)),d(n,{id:"playtomic_id_summer",modelValue:l(t).playtomic_id_summer,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).playtomic_id_summer=o),class:"flex-auto",autocomplete:"off",placeholder:"PlaytomicId Summer"},null,8,["modelValue"]),l(t).errors.playtomic_id_summer?(c(),f("small",H,b(l(t).errors.playtomic_id_summer),1)):y("",!0)]),i("div",O,[d(p,{type:"button",label:"Cancel",severity:"secondary",onClick:e[3]||(e[3]=o=>u("close"))}),d(p,{type:"submit",label:"Update"})])])],32)]),_:1},8,["visible","header"])}}};export{R as default};
